var n=(p,e,i)=>new Promise((g,a)=>{var o=s=>{try{l(i.next(s))}catch(r){a(r)}},c=s=>{try{l(i.throw(s))}catch(r){a(r)}},l=s=>s.done?g(s.value):Promise.resolve(s.value).then(o,c);l((i=i.apply(p,e)).next())});import{W as m}from"./index-DUeIl7mz.js";import"./vendor-DT9W0nQP.js";import"./router-DiSlgJ0r.js";import"./icons-BAeSp0yz.js";class V extends m{getId(){return n(this,null,function*(){return{identifier:this.getUid()}})}getInfo(){return n(this,null,function*(){if(typeof navigator=="undefined"||!navigator.userAgent)throw this.unavailable("Device API not available in this browser");const e=navigator.userAgent,i=this.parseUa(e);return{model:i.model,platform:"web",operatingSystem:i.operatingSystem,osVersion:i.osVersion,manufacturer:navigator.vendor,isVirtual:!1,webViewVersion:i.browserVersion}})}getBatteryInfo(){return n(this,null,function*(){if(typeof navigator=="undefined"||!navigator.getBattery)throw this.unavailable("Device API not available in this browser");let e={};try{e=yield navigator.getBattery()}catch(i){}return{batteryLevel:e.level,isCharging:e.charging}})}getLanguageCode(){return n(this,null,function*(){return{value:navigator.language.split("-")[0].toLowerCase()}})}getLanguageTag(){return n(this,null,function*(){return{value:navigator.language}})}parseUa(e){const i={},g=e.indexOf("(")+1;let a=e.indexOf(") AppleWebKit");e.indexOf(") Gecko")!==-1&&(a=e.indexOf(") Gecko"));const o=e.substring(g,a);if(e.indexOf("Android")!==-1){const t=o.replace("; wv","").split("; ").pop();t&&(i.model=t.split(" Build")[0]),i.osVersion=o.split("; ")[1]}else if(i.model=o.split("; ")[0],typeof navigator!="undefined"&&navigator.oscpu)i.osVersion=navigator.oscpu;else if(e.indexOf("Windows")!==-1)i.osVersion=o;else{const t=o.split("; ").pop();if(t){const d=t.replace(" like Mac OS X","").split(" ");i.osVersion=d[d.length-1].replace(/_/g,".")}}/android/i.test(e)?i.operatingSystem="android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?i.operatingSystem="ios":/Win/.test(e)?i.operatingSystem="windows":/Mac/i.test(e)?i.operatingSystem="mac":i.operatingSystem="unknown";const c=!!window.ApplePaySession,l=!!window.chrome,s=/Firefox/.test(e),r=/Edg/.test(e),x=/FxiOS/.test(e),v=/CriOS/.test(e),w=/EdgiOS/.test(e);if(c||l&&!r||x||v||w){let t;x?t="FxiOS":v?t="CriOS":w?t="EdgiOS":c?t="Version":t="Chrome";const d=e.split(" ");for(const f of d)if(f.includes(t)){const u=f.split("/")[1];i.browserVersion=u}}else if(s||r){const f=e.split("").reverse().join("").split("/")[0].split("").reverse().join("");i.browserVersion=f}return i}getUid(){if(typeof window!="undefined"&&window.localStorage){let e=window.localStorage.getItem("_capuid");return e||(e=this.uuid4(),window.localStorage.setItem("_capuid",e),e)}return this.uuid4()}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const i=Math.random()*16|0;return(e==="x"?i:i&3|8).toString(16)})}}export{V as DeviceWeb};
